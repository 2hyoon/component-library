{#
- The trigger bars use both button and heading markup so that they are both actionable and semantically clear.
- The trigger bars buttons have both the aria-controls and aria-expanded ARIA attributes to tell to screen readers what they control and their current state, per WCAG 4.1.2.
- If indicator icons are used, they are hidden from screen readers using the aria-hidden ARIA attribute.
- The content panels are fully hidden from all users when they are collapsed.
- aria-disabled="true"
- https://www.w3.org/WAI/ARIA/apg/
- https://www.w3.org/WAI/ARIA/apg/patterns/
- https://www.w3.org/WAI/ARIA/apg/patterns/accordion/examples/accordion/
#}

<section class="accordion" data-component="Accordion">
  <div class="container">

    {# accordion header #}
    <div class="grid row">
      <div class="g-col-12 g-col-900-8 g-start-900-3">
        <h1>Accordion</h1>
      </div>
    </div>

    {# accordion body #}
    <div class="grid row">
      <div class="g-col-12 g-col-900-8 g-start-900-3">
        {% for item in accordion.list %}
          <h3>
            <button
              type="button"
              id="accordion-tag-{{loop.index}}"
              class="accordion-tab js-tab"
              aria-expanded="false"
              aria-controls="accordion-panel-{{loop.index}}">
              <div class="accordion-tab-label">{{item.title}}</div>
              <div class="accordion-tab-icon" aria-hidden="true"></div>
            </button>
          </h3>
          <div
            id="accordion-panel-{{loop.index}}"
            class="accordion-panel js-panel"
            role="region"
            aria-labelledby="accordion-tab-{{loop.index}}">
            <div class="accordion-content js-content">
              {{item.description|safe}}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>

  </div>
</section>
